<<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ساعة عصمت الحميدي - أوقات الصلاة والتقويم والأذكار</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- إضافة في قسم الساعة/التاريخ أو كبطاقة منفصلة -->
<div class="card">
    <div class="card-header">
        <i class="fas fa-compass"></i>
        <h2>اتجاه القبلة</h2>
    </div>
    <div class="qibla-container">
        <div class="compass">
            <div class="compass-circle" id="compass-circle">
                <div class="compass-needle"></div>
                <div class="compass-direction">القبلة</div>
            </div>
        </div>
        <div class="qibla-degree">
            درجة القبلة: <span id="qibla-degree">0°</span>
        </div>
        <button class="control-btn" id="calibrate-qibla">
            <i class="fas fa-sync-alt"></i> معايرة
        </button>
    </div>
</div>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #2a3c7f, #3a4e92);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: #f9ca24;
        }
        
        h1 {
            font-size: 2.5rem;
            color: #f9ca24;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #d1d8e0;
            margin-top: 5px;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 992px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .card-header i {
            font-size: 1.8rem;
            color: #f9ca24;
        }
        
        .card-header h2 {
            font-size: 1.8rem;
        }
        
        .clock-container {
            text-align: center;
            padding: 20px 0;
        }
        
        .time {
            font-size: 4.5rem;
            font-weight: 700;
            color: #f9ca24;
            text-shadow: 0 0 20px rgba(249, 202, 36, 0.5);
            margin-bottom: 10px;
            font-family: 'Cairo', sans-serif;
        }
        
        .date {
            font-size: 1.8rem;
            color: #d1d8e0;
        }
        
        .hijri-date {
            font-size: 1.4rem;
            color: #a5b1c2;
            margin-top: 5px;
        }
        
        .prayer-times {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        
        @media (max-width: 768px) {
            .prayer-times {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .prayer-time {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .prayer-time.active {
            background: rgba(249, 202, 36, 0.3);
            box-shadow: 0 0 15px rgba(249, 202, 36, 0.3);
        }
        
        .prayer-name {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: #f9ca24;
        }
        
        .prayer-hour {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .calendar-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .calendar {
            flex: 1;
            min-width: 250px;
            text-align: center;
        }
        
        .calendar-header {
            background: rgba(249, 202, 36, 0.3);
            padding: 15px;
            border-radius: 15px 15px 0 0;
            font-size: 1.5rem;
        }
        
        .calendar-body {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 0 0 15px 15px;
        }
        
        .calendar-date {
            font-size: 4rem;
            font-weight: 700;
            color: #f9ca24;
            margin-bottom: 10px;
        }
        
        .calendar-month-year {
            font-size: 1.8rem;
            color: #d1d8e0;
        }
        
        .divider {
            font-size: 2rem;
            color: #f9ca24;
            margin: 0 10px;
        }
        
        .azkar-container {
            height: 300px;
            overflow-y: auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            margin-top: 10px;
        }
        
        .azkar-container::-webkit-scrollbar {
            width: 8px;
        }
        
        .azkar-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        
        .azkar-container::-webkit-scrollbar-thumb {
            background: #f9ca24;
            border-radius: 10px;
        }
        
        .zekr {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .zekr:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .zekr-text {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 15px;
        }
        
        .zekr-count {
            display: inline-block;
            background: rgba(249, 202, 36, 0.3);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 1rem;
        }
        
        .quran-container {
            height: 300px;
            overflow-y: auto;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            margin-top: 10px;
        }
        
        .surah {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .surah:hover {
            background: rgba(255, 255, 255, 0.15);
        }
        
        .surah-info {
            flex: 1;
        }
        
        .surah-name {
            font-size: 1.5rem;
            margin-bottom: 5px;
            color: #f9ca24;
        }
        
        .surah-details {
            color: #d1d8e0;
            font-size: 1rem;
        }
        
        .play-btn {
            background: rgba(249, 202, 36, 0.3);
            border: none;
            color: #f9ca24;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .play-btn:hover {
            background: rgba(249, 202, 36, 0.5);
            transform: scale(1.1);
        }
        
        footer {
            text-align: center;
            padding: 25px;
            margin-top: 30px;
            border-top: 2px solid rgba(255, 255, 255, 0.2);
            color: #d1d8e0;
            font-size: 1.1rem;
        }
        
        .footer-text {
            margin-bottom: 10px;
        }
        
        .current-prayer {
            background: rgba(249, 202, 36, 0.2);
            padding: 15px;
            border-radius: 15px;
            margin-top: 15px;
            text-align: center;
            font-size: 1.3rem;
        }
        
        .current-prayer span {
            color: #f9ca24;
            font-weight: 700;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: rgba(249, 202, 36, 0.3);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            background: rgba(249, 202, 36, 0.5);
        }
        
        .control-btn.active {
            background: rgba(249, 202, 36, 0.7);
        }
        
        @media (max-width: 576px) {
            h1 {
                font-size: 2rem;
            }
            
            .time {
                font-size: 3.5rem;
            }
            
            .date {
                font-size: 1.5rem;
            }
            
            .card-header h2 {
                font-size: 1.5rem;
            }
            
            .prayer-times {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-clock"></i>
                <h1>ساعة عصمت الحميدي</h1>
            </div>
            <p class="subtitle">أوقات الصلاة | التقويم الهجري والميلادي | الأذكار اليومية | القرآن الكريم</p>
        </header>
        
        <div class="main-grid">
            <!-- الساعة والتاريخ -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-clock"></i>
                    <h2>الوقت والتاريخ</h2>
                </div>
                <div class="clock-container">
                    <div class="time" id="time">00:00:00</div>
                    <div class="date" id="date">الاثنين ١ ربيع الأول ١٤٤٥ هـ</div>
                    <div class="hijri-date" id="hijri-date">١ يناير ٢٠٢٤ م</div>
                </div>
            </div>
            
            <!-- أوقات الصلاة -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-mosque"></i>
                    <h2>أوقات الصلاة</h2>
                </div>
                <div class="prayer-times" id="prayer-times">
                    <!-- سيتم ملؤها بواسطة الجافاسكريبت -->
                </div>
                <div class="current-prayer" id="current-prayer">
                    الصلاة الحالية: <span id="next-prayer-name">الفجر</span> بعد <span id="next-prayer-time">٠ ساعة و ٣٠ دقيقة</span>
                </div>
            </div>
            
            <!-- التقويم -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-calendar-alt"></i>
                    <h2>التقويم الهجري والميلادي</h2>
                </div>
                <div class="calendar-container">
                    <div class="calendar">
                        <div class="calendar-header">الميلادي</div>
                        <div class="calendar-body">
                            <div class="calendar-date" id="gregorian-day">١</div>
                            <div class="calendar-month-year" id="gregorian-month-year">يناير ٢٠٢٤</div>
                        </div>
                    </div>
                    
                    <div class="divider">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    
                    <div class="calendar">
                        <div class="calendar-header">الهجري</div>
                        <div class="calendar-body">
                            <div class="calendar-date" id="hijri-day">١</div>
                            <div class="calendar-month-year" id="hijri-month-year">ربيع الأول ١٤٤٥</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- الأذكار -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-pray"></i>
                    <h2>الأذكار اليومية</h2>
                </div>
                <div class="controls">
                    <button class="control-btn active" data-type="morning">أذكار الصباح</button>
                    <button class="control-btn" data-type="evening">أذكار المساء</button>
                    <button class="control-btn" data-type="sleep">أذكار النوم</button>
                    <button class="control-btn" data-type="waking">أذكار الاستيقاظ</button>
                </div>
                <div class="azkar-container" id="azkar-container">
                    <!-- سيتم ملؤها بواسطة الجافاسكريبت -->
                </div>
            </div>
            
            <!-- القرآن الكريم -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-quran"></i>
                    <h2>القرآن الكريم</h2>
                </div>
                <div class="quran-container" id="quran-container">
                    <!-- سيتم ملؤها بواسطة الجافاسكريبت -->
                </div>
            </div>
        </div>
        
        <footer>
            <p class="footer-text">تم التطوير بواسطة عصمت الحميدي - جميع الحقوق محفوظة © 2024</p>
            <p>هذا التطبيق لأغراض تعليمية وعرضية</p>
        </footer>
    </div>
    
    <script>
        // بيانات أوقات الصلاة (بيانات افتراضية)
        const prayerTimes = {
            fajr: "04:30",
            sunrise: "05:45",
            dhuhr: "12:15",
            asr: "15:45",
            maghrib: "18:20",
            isha: "19:45"
        };
        
        // بيانات الأذكار
        const azkar = {
            morning: [
                {text: "أَعُوذُ بِاللهِ مِنْ الشَّيْطَانِ الرَّجِيمِ", count: 1},
                {text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ النُّشُورُ", count: 1},
                {text: "اللَّهُمَّ أَنْتَ رَبِّي لا إِلَهَ إِلا أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لا يَغْفِرُ الذُّنُوبَ إِلا أَنْتَ", count: 1},
                {text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ", count: 100},
                {text: "لا إِلَهَ إِلا اللَّهُ وَحْدَهُ لا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ", count: 10}
            ],
            evening: [
                {text: "أَعُوذُ بِاللهِ مِنْ الشَّيْطَانِ الرَّجِيمِ", count: 1},
                {text: "اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ، وَإِلَيْكَ الْمَصِيرُ", count: 1},
                {text: "اللَّهُمَّ إِنِّي أَمْسَيْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلَائِكَتَكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلَّا أَنْتَ، وَأَنَّ مُحَمَّدًا عَبْدُكَ وَرَسُولُكَ", count: 1},
                {text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ", count: 100},
                {text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لَا إِلَهَ إِلَّا أَنْتَ", count: 3}
            ],
            sleep: [
                {text: "بِاسْمِكَ رَبِّي وَضَعْتُ جَنْبِي، وَبِكَ أَرْفَعُهُ، فَإِنْ أَمْسَكْتَ نَفْسِي فَارْحَمْهَا، وَإِنْ أَرْسَلْتَهَا فَاحْفَظْهَا بِمَا تَحْفَظُ بِهِ عِبَادَكَ الصَّالِحِينَ", count: 1},
                {text: "اللَّهُمَّ قِنِي عَذَابَكَ يَوْمَ تَبْعَثُ عِبَادَكَ", count: 3},
                {text: "سُبْحَانَ اللَّهِ", count: 33},
                {text: "الْحَمْدُ لِلَّهِ", count: 33},
                {text: "اللَّهُ أَكْبَرُ", count: 34}
            ],
            waking: [
                {text: "الْحَمْدُ لِلَّهِ الَّذِي أَحْيَانَا بَعْدَ مَا أَمَاتَنَا وَإِلَيْهِ النُّشُورُ", count: 1},
                {text: "لَا إِلَهَ إِلَّا اللَّهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ، وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، سُبْحَانَ اللَّهِ، وَالْحَمْدُ لِلَّهِ، وَلَا إِلَهَ إِلَّا اللَّهُ، وَاللَّهُ أَكْبَرُ، وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِاللَّهِ الْعَلِيِّ الْعَظِيمِ، رَبِّ اغْفِرْ لِي", count: 1},
                {text: "اللَّهُمَّ لَكَ الْحَمْدُ أَنْتَ نُورُ السَّمَاوَاتِ وَالْأَرْضِ وَمَنْ فِيهِنَّ، وَلَكَ الْحَمْدُ أَنْتَ قَيِّمُ السَّمَاوَاتِ وَالْأَرْضِ وَمَنْ فِيهِنَّ، وَلَكَ الْحَمْدُ أَنْتَ الْحَقُّ، وَوَعْدُكَ الْحَقُّ، وَلِقَاؤُكَ حَقٌّ، وَقَوْلُكَ حَقٌّ، وَالْجَنَّةُ حَقٌّ، وَالنَّارُ حَقٌّ، وَالنَّبِيُّونَ حَقٌّ، وَمُحَمَّدٌ حَقٌّ، وَالسَّاعَةُ حَقٌّ", count: 1}
            ]
        };
        
        // بيانات السور القرآنية
        const surahs = [
            {name: "سورة الفاتحة", verses: 7, number: 1, audio: "https://server6.mp3quran.net/sds/001.mp3"},
            {name: "سورة البقرة", verses: 286, number: 2, audio: "https://server6.mp3quran.net/sds/002.mp3"},
            {name: "سورة آل عمران", verses: 200, number: 3, audio: "https://server6.mp3quran.net/sds/003.mp3"},
            {name: "سورة النساء", verses: 176, number: 4, audio: "https://server6.mp3quran.net/sds/004.mp3"},
            {name: "سورة المائدة", verses: 120, number: 5, audio: "https://server6.mp3quran.net/sds/005.mp3"},
            {name: "سورة الأنعام", verses: 165, number: 6, audio: "https://server6.mp3quran.net/sds/006.mp3"},
            {name: "سورة الأعراف", verses: 206, number: 7, audio: "https://server6.mp3quran.net/sds/007.mp3"},
            {name: "سورة الأنفال", verses: 75, number: 8, audio: "https://server6.mp3quran.net/sds/008.mp3"},
            {name: "سورة التوبة", verses: 129, number: 9, audio: "https://server6.mp3quran.net/sds/009.mp3"}
        ];
        
        // الساعة والتاريخ
        function updateTime() {
            const now = new Date();
            
            // تنسيق الوقت
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            
            // التحويل إلى تنسيق 12 ساعة
            const isPM = hours >= 12;
            hours = hours % 12 || 12;
            
            // إضافة أصفار أمام الأرقام المفردة
            hours = hours < 10 ? "0" + hours : hours;
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;
            
            const timeString = `${hours}:${minutes}:${seconds}`;
            document.getElementById("time").textContent = timeString;
            
            // تحديث التاريخ الميلادي
            const gregorianOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const gregorianDate = now.toLocaleDateString('ar-SA', gregorianOptions);
            document.getElementById("date").textContent = gregorianDate;
            
            // تحديث اليوم والشهر الميلادي
            const gregorianDay = now.getDate();
            const gregorianMonth = now.toLocaleDateString('ar-SA', { month: 'long' });
            const gregorianYear = now.getFullYear();
            
            document.getElementById("gregorian-day").textContent = gregorianDay;
            document.getElementById("gregorian-month-year").textContent = `${gregorianMonth} ${gregorianYear}`;
            
            // التاريخ الهجري (تقديري - في التطبيق الحقيقي يجب استخدام مكتبة دقيقة)
            const hijriDate = calculateHijriDate(now);
            document.getElementById("hijri-date").textContent = hijriDate.fullDate;
            
            // تحديث اليوم والشهر الهجري
            document.getElementById("hijri-day").textContent = hijriDate.day;
            document.getElementById("hijri-month-year").textContent = `${hijriDate.month} ${hijriDate.year}`;
            
            // تحديث أوقات الصلاة
            updatePrayerTimes(now);
        }
        
        // حساب التاريخ الهجري (تقديري)
        function calculateHijriDate(gregorianDate) {
            // هذا حساب تقديري، في التطبيقات الحقيقية يجب استخدام مكتبة دقيقة
            const hijriOffset = -579; // الفرق التقريبي بين التقويمين بالأيام
            
            // تاريخ مرجعي: 1 محرم 1445 هـ = 19 يوليو 2023 م
            const referenceHijri = { year: 1445, month: 1, day: 1 };
            const referenceGregorian = new Date(2023, 6, 19); // يوليو = 6 (الشهر يبدأ من 0)
            
            const diffTime = gregorianDate - referenceGregorian;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            
            // حساب التقريبي للتاريخ الهجري
            let hijriDays = diffDays + hijriOffset;
            
            // السنة الهجرية = 354.367 يوم في المتوسط
            const hijriYear = Math.floor(hijriDays / 354.367) + referenceHijri.year;
            hijriDays = hijriDays % 354.367;
            
            // الأشهر الهجرية بالتناوب 30 و29 يوم
            const hijriMonths = ["محرم", "صفر", "ربيع الأول", "ربيع الثاني", "جمادى الأولى", "جمادى الآخرة", "رجب", "شعبان", "رمضان", "شوال", "ذو القعدة", "ذو الحجة"];
            
            let monthIndex = 0;
            let monthDays = 0;
            
            // حساب الشهر واليوم
            for (let i = 0; i < hijriMonths.length; i++) {
                const daysInMonth = (i % 2 === 0 || i === 11) ? 30 : 29; // الأشهر الفردية 30 يوم، الزوجية 29 يوم، ذو الحجة 30 يوم
                
                if (hijriDays < daysInMonth) {
                    monthIndex = i;
                    monthDays = Math.floor(hijriDays) + 1;
                    break;
                }
                hijriDays -= daysInMonth;
            }
            
            const hijriMonth = hijriMonths[monthIndex];
            const hijriDay = monthDays;
            
            return {
                day: hijriDay,
                month: hijriMonth,
                year: hijriYear,
                fullDate: `${hijriDay} ${hijriMonth} ${hijriYear} هـ`
            };
        }
        
        // تحديث أوقات الصلاة
        function updatePrayerTimes(now) {
            const prayerTimesContainer = document.getElementById("prayer-times");
            prayerTimesContainer.innerHTML = "";
            
            // ترتيب الصلوات
            const prayers = [
                {name: "الفجر", time: prayerTimes.fajr, key: "fajr"},
                {name: "الشروق", time: prayerTimes.sunrise, key: "sunrise"},
                {name: "الظهر", time: prayerTimes.dhuhr, key: "dhuhr"},
                {name: "العصر", time: prayerTimes.asr, key: "asr"},
                {name: "المغرب", time: prayerTimes.maghrib, key: "maghrib"},
                {name: "العشاء", time: prayerTimes.isha, key: "isha"}
            ];
            
            // البحث عن الصلاة الحالية والتالية
            const currentTime = now.getHours() * 60 + now.getMinutes();
            let nextPrayer = null;
            let currentPrayer = null;
            
            // تحويل أوقات الصلاة إلى دقائق
            prayers.forEach(prayer => {
                const [hours, minutes] = prayer.time.split(":").map(Number);
                const prayerTimeInMinutes = hours * 60 + minutes;
                
                // إذا كانت الصلاة بعد الوقت الحالي ولم يتم تحديد صلاة تالية بعد
                if (prayerTimeInMinutes > currentTime && !nextPrayer) {
                    nextPrayer = prayer;
                }
                
                // إذا كانت الصلاة قبل الوقت الحالي (أقرب صلاة ماضية)
                if (prayerTimeInMinutes <= currentTime) {
                    currentPrayer = prayer;
                }
            });
            
            // إذا لم نجد صلاة تالية (مثلاً بعد العشاء وقبل الفجر)، نعتبر الفجر هي الصلاة التالية
            if (!nextPrayer) {
                nextPrayer = prayers[0]; // الفجر
            }
            
            // حساب الوقت المتبقي للصلاة التالية
            const [nextHours, nextMinutes] = nextPrayer.time.split(":").map(Number);
            const nextPrayerTimeInMinutes = nextHours * 60 + nextMinutes;
            let timeRemaining = nextPrayerTimeInMinutes - currentTime;
            
            // إذا كانت الصلاة التالية في اليوم التالي (بعد منتصف الليل)
            if (timeRemaining < 0) {
                timeRemaining += 24 * 60; // إضافة 24 ساعة
            }
            
            const hoursRemaining = Math.floor(timeRemaining / 60);
            const minutesRemaining = timeRemaining % 60;
            
            // تحديث عرض الصلاة التالية
            document.getElementById("next-prayer-name").textContent = nextPrayer.name;
            document.getElementById("next-prayer-time").textContent = `${hoursRemaining} ساعة و ${minutesRemaining} دقيقة`;
            
            // عرض جميع أوقات الصلاة
            prayers.forEach(prayer => {
                const prayerElement = document.createElement("div");
                prayerElement.className = "prayer-time";
                
                // إذا كانت هذه هي الصلاة الحالية، نضيف كلاس active
                if (prayer.key === nextPrayer.key) {
                    prayerElement.classList.add("active");
                }
                
                prayerElement.innerHTML = `
                    <div class="prayer-name">${prayer.name}</div>
                    <div class="prayer-hour">${prayer.time}</div>
                `;
                
                prayerTimesContainer.appendChild(prayerElement);
            });
        }
        
        // تحميل الأذكار
        function loadAzkar(type) {
            const azkarContainer = document.getElementById("azkar-container");
            azkarContainer.innerHTML = "";
            
            // تحديث الأزرار النشطة
            document.querySelectorAll(".control-btn").forEach(btn => {
                btn.classList.remove("active");
                if (btn.getAttribute("data-type") === type) {
                    btn.classList.add("active");
                }
            });
            
            // عرض الأذكار
            azkar[type].forEach(zekr => {
                const zekrElement = document.createElement("div");
                zekrElement.className = "zekr";
                zekrElement.innerHTML = `
                    <div class="zekr-text">${zekr.text}</div>
                    <div class="zekr-count">التكرار: ${zekr.count}</div>
                `;
                azkarContainer.appendChild(zekrElement);
            });
        }
        
        // تحميل السور القرآنية
        function loadQuran() {
            const quranContainer = document.getElementById("quran-container");
            quranContainer.innerHTML = "";
            
            surahs.forEach(surah => {
                const surahElement = document.createElement("div");
                surahElement.className = "surah";
                surahElement.innerHTML = `
                    <div class="surah-info">
                        <div class="surah-name">${surah.name}</div>
                        <div class="surah-details">عدد الآيات: ${surah.verses} | رقم السورة: ${surah.number}</div>
                    </div>
                    <button class="play-btn" data-audio="${surah.audio}">
                        <i class="fas fa-play"></i>
                    </button>
                `;
                quranContainer.appendChild(surahElement);
            });
            
            // إضافة مستمعين لأزرار التشغيل
            document.querySelectorAll(".play-btn").forEach(btn => {
                btn.addEventListener("click", function() {
                    const audioUrl = this.getAttribute("data-audio");
                    playAudio(audioUrl);
                });
            });
        }
        
        // تشغيل الصوت
        function playAudio(url) {
            // إيقاف أي صوت قيد التشغيل
            const existingAudio = document.getElementById("quran-audio");
            if (existingAudio) {
                existingAudio.pause();
                existingAudio.remove();
            }
            
            // إنشاء عنصر صوت جديد
            const audio = new Audio(url);
            audio.id = "quran-audio";
            audio.play();
            
            // عرض رسالة للمستخدم
            alert("جاري تشغيل التلاوة... الرجاء الانتظار قليلاً حتى يبدأ الصوت.");
        }
        
        // تهيئة الصفحة
        function initPage() {
            // تحديث الوقت أول مرة
            updateTime();
            
            // تحميل الأذكار (الصباح افتراضياً)
            loadAzkar("morning");
            
            // تحميل السور القرآنية
            loadQuran();
            
            // تحديث الوقت كل ثانية
            setInterval(updateTime, 1000);
            
            // إضافة مستمعين لأزرار الأذكار
            document.querySelectorAll(".control-btn").forEach(btn => {
                btn.addEventListener("click", function() {
                    const type = this.getAttribute("data-type");
                    loadAzkar(type);
                });
            });
        }
        
        // بدء التطبيق عند تحميل الصفحة
        document.addEventListener("DOMContentLoaded", initPage);
    </script>
</body>
</html>
